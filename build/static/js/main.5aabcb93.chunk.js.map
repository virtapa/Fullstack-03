{"version":3,"sources":["services/persons.js","components/Filter.js","components/PersonForm.js","components/Person.js","components/Persons.js","components/Notification.js","App.js","index.js"],"names":["baseUrl","axios","get","then","response","data","newObject","post","id","delete","put","Filter","newFilter","handleFilterChange","value","onChange","PersonForm","addPerson","newName","handleNameChange","newNumber","handleNumberChange","onSubmit","name","type","Person","person","handleDeletePerson","number","onClick","Persons","persons","setPersons","setMessage","deletePerson","personService","deletedPerson","filter","text","setTimeout","catch","error","map","Notification","message","className","App","useState","setNewName","setNewNumber","setNewFilter","useEffect","initialPersons","updatePerson","find","toLowerCase","updatedPerson","returnedPerson","p","filteredPersons","includes","personAlreadyExists","some","event","target","preventDefault","alert","concat","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.5aabcb93.chunk.js","sourcesContent":["import axios from 'axios'\r\nconst baseUrl = 'https://tranquil-refuge-80894.herokuapp.com/api/persons/'\r\n\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then(response => response.data)\r\n}\r\n\r\n\r\nconst create = newObject => {\r\n  const request = axios.post(baseUrl, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst remove = (id) => {\r\n    const request = axios.delete(`${baseUrl}/${id}`);\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nexport default { \r\n  getAll, create, remove, update\r\n}","import React from 'react'\r\n\r\nconst Filter = ({ newFilter, handleFilterChange }) => {\r\n  return (\r\n    <div>\r\n        Filter shown with: <input \r\n        id='filter'\r\n        value={newFilter}\r\n        onChange={handleFilterChange}\r\n        />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Filter","import React from 'react'\r\n\r\nconst PersonForm = ({ addPerson, newName, handleNameChange, newNumber, handleNumberChange }) => {\r\n  return (\r\n    <div>\r\n      <h2>Add Contact</h2>\r\n      <form onSubmit={addPerson}>\r\n        Name: <input \r\n          name='name'\r\n          id='name'\r\n          value={newName}\r\n          onChange={handleNameChange}/>\r\n        \r\n          Phone Number: <input \r\n          name='phonenumber'\r\n          id='phonenumber'\r\n          value={newNumber}\r\n          onChange={handleNumberChange}/>\r\n        \r\n        <button type=\"submit\">Add</button>\r\n      </form>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default PersonForm","import React from 'react'\r\n\r\nconst Person = ({ person, handleDeletePerson }) => {\r\n  return (\r\n    <div>\r\n      {person.name} {person.number}\r\n      <button \r\n        onClick={() => handleDeletePerson(person.id)} >\r\n      \r\n          delete\r\n      </button>\r\n    </div>  \r\n  )\r\n}\r\n\r\nexport default Person","import React from 'react'\r\nimport Person from './Person'\r\nimport personService from '../services/persons'\r\n\r\nconst Persons = ({ persons, setPersons, setMessage }) => {\r\n  const deletePerson = (id) => {\r\n    personService\r\n      .remove(id)\r\n      .then(deletedPerson => {\r\n        setPersons(persons.filter(person => person.id !== id))\r\n        setMessage({\r\n            text: 'Deleted!',\r\n            type: \"success\"})\r\n      \r\n        setTimeout(() => {\r\n            setMessage(null)\r\n      }, 5000)\r\n    })\r\n      .catch(error => {\r\n        setMessage({\r\n            text:'This person was already removed from server',\r\n            type:\"error\"})\r\n        setTimeout(() => {\r\n          setMessage(null)\r\n        }, 5000)\r\n        setPersons(persons.filter((person) => person.id !== id))\r\n      })\r\n  }\r\n\r\n\r\n  return (\r\n    <div>\r\n      <h2>Numbers</h2>\r\n      {persons.map((person) => \r\n        <Person \r\n          key={person.id}\r\n          person={person}\r\n          handleDeletePerson={deletePerson}\r\n        />\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Persons","import React from \"react\";\r\n\r\nconst Notification = ({ message }) => {\r\n  if (message === null) {\r\n    return null;\r\n  }\r\n  return (\r\n    <div className={`notification notification_${message.type}`}>\r\n      {message.text}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Notification;\r\n","import React, { useState, useEffect } from 'react'\nimport personService from './services/persons'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport Notification from './components/Notification'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [newFilter, setNewFilter] = useState('')\n  const [message, setMessage] = useState(null)\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(initialPersons => {\n      setPersons(initialPersons)\n    })\n  }, [])\n  \n  const addPerson = (event) => {\n    event.preventDefault()\n    if (personAlreadyExists(newName)) {\n      alert(`${newName} is already added, would you like to update their phone number?`)\n      updatePerson(newName)\n      setNewName('')\n      setNewNumber('')\n      return;\n    }\n\n\n    const newObject = {\n      name: newName, \n      number: newNumber,\n    }\n  \n    personService\n      .create(newObject)\n      .then(returnedPerson => {\n        setPersons(persons.concat(returnedPerson))\n        setNewName('')\n        setNewNumber('')\n      })\n      .then(() => {\n        setMessage({\n          text: `Added ${newObject.name} to the phonebook`,\n          type: \"success\"\n        })\n        setTimeout(() => {\n          setMessage(null)\n        }, 3000)\n      })\n      .catch(error => {\n        setMessage({\n          text: error.response.data.error,\n          type: \"error\"\n        })\n      })\n  }\n  const updatePerson = (name) => {\n    const person = persons.find((person) => person.name.toLowerCase() === name.toLowerCase())\n    const updatedPerson = {...person, number: newNumber }\n\n    personService\n      .update(person.id, updatedPerson)\n      .then(returnedPerson => {\n        setPersons(persons.map(p => p.id !== person.id ? p : returnedPerson))\n        setMessage({\n          text: `Updated ${returnedPerson.name}'s number`,\n          type: \"success\"})\n        setTimeout(() => {\n          setMessage(null)\n        }, 3000)\n        \n      })\n  }\n\n  const filteredPersons = newFilter \n  ? persons.filter((person) => person.name.toLowerCase().includes(newFilter.toLowerCase()))\n  : persons\n\n\n  const personAlreadyExists = (name) => {\n    return persons.some((person) => person.name.toLowerCase() === name.toLowerCase())\n  }\n\n\n    const handleNameChange = (event) => {\n      setNewName(event.target.value)\n    }\n    \n    const handleNumberChange = (event) => {\n      setNewNumber(event.target.value)\n    }\n    const handleFilterChange = (event) => {\n      setNewFilter(event.target.value)\n    }\n  \n  return (\n    <div>\n      <h1>Phonebook</h1>\n      <Notification \n        message={message}\n      />\n      <Filter \n        newFilter={newFilter}\n        handleFilterChange={handleFilterChange}\n      />\n      <PersonForm\n        addPerson={addPerson}\n        newName={newName}\n        handleNameChange={handleNameChange}\n        newNumber={newNumber}\n        handleNumberChange={handleNumberChange}\n      />\n      <Persons\n        persons={filteredPersons}\n        setPersons={setPersons}\n        setMessage={setMessage}\n      />\n    </div>\n  )\n}\n\nexport default App","import ReactDOM from 'react-dom'\nimport App from './App'\nimport './index.css'\n\nReactDOM.render(\n  <App />, \n  document.getElementById('root')\n)"],"sourceRoot":""}